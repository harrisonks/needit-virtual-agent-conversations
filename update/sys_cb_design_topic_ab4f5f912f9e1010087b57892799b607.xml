<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__df4fdb9d965e1010ccfbe88a1489c4e9">5f4fdb9d2f5e1010087b57892799b6ea</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"71c6835ecaed40f0aaf68d3f9639bdfe","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"71c6835ecaed40f0aaf68d3f9639bdfe"}],"goals":[{"name":"primary","trigger_id":"71c6835ecaed40f0aaf68d3f9639bdfe","nodes":[{"type":"StartGoal","goal_id":"916ddbd1703046efbdb830098632bbc0","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"a4baf2ddbacc42f78b8c18edb581a0eb","name":"Start"},{"type":"TerminateGoal","goal_id":"916ddbd1703046efbdb830098632bbc0","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"7fe8839891fd4ebdbe266b07866b0e85","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"e52d73a2bf3e454f906e97a2b411f8e2","name":"NeedIt Type","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"f45a3f5545f640bfac5a9e6613b7db7a","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n})()\n"},"id":"2f494ca96a384a91b60c0ed589da8a2b","name":"Confirm NeedIt Type","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"a889587b45574efc8cf7fedeea46b23a","name":"NeedIt List","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"ea5a12303774421fa771ba1afbda8329","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n})(table)\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n})(table)\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"ea5a12303774421fa771ba1afbda8329","fields":["priority","short_description","u_when_needed"],"id":"4bc32cf4b32d43f7942ae2b00cd1232e","name":"NeedIt Card","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"f4811428776e419d9c9b917ee43f2efd","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"88646f9033cd4343acc6fa388d529259","name":"Search Again","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"341d4502a02f45adac3ba829a28a0eb0","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"e4ad7f2522954dc5b4410da79e51d83a","name":"Yes"}],"id":"a4affaf39f7f4a4dacedbcb7dd903eb0","goal_id":"916ddbd1703046efbdb830098632bbc0"},{"type":"InputPrompt","variable_id":"7a76613cb1714b6c88e9da82aecd6a97","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"daf4b185089342c2a6f6391fe2fceb9e","name":" New When Needed Date","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs._new_when_needed_date}}","variable_id":"ea5a12303774421fa771ba1afbda8329","id":"eb1958e0adb14755a9274ad5fb92a69f","name":"Change When Needed Date","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"ea5a12303774421fa771ba1afbda8329","fields":["u_when_needed","short_description"],"id":"9e8959eabf8f4a2895b8a28211327fb2","name":"Updated NeedIt","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"ff6012e1bc69477ea8a69469f1de1409","name":"What to update","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"f68a301c93c14ccc8e90b24ba30d8fbd","message":{"type":"String","mode":"string","value":"What do you need to update?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Update field","branches":[{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":"what_to_update=wn"},"id":"41cc9a92cf0b47a79461a19787c4501a","name":"When needed"},{"type":"Branch","label":"Short description","expression":{"type":"Applicability","mode":"query","value":"what_to_update=sh"},"id":"eb674c0900a34827b4a576f724eb24e1","name":"Short description"},{"type":"Branch","label":"nothing","expression":{"type":"Applicability","mode":"query","value":""},"id":"9b2e5944d24d4d09b175f1a68a67a09e","name":"nothing"}],"id":"f3ebcd0f10f246c2822f40e0c2858737","goal_id":"916ddbd1703046efbdb830098632bbc0"},{"type":"InputPrompt","variable_id":"f32f0695f4904e97a88d376d16884408","message":{"type":"String","mode":"string","value":"What should be the new short description?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"c25656325bb1403a9dac286098ce840b","name":"New Short Description1","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description1}}","variable_id":"ea5a12303774421fa771ba1afbda8329","id":"45362033dc35403f9486624a74600fc0","name":"New short description","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n        // Add 1 to the search_count variable\n\t    vaVars.search_count = vaVars.search_count + 1;\n})()\n","id":"63700b78ac6847fa8db181603abca5d1","name":"Update search_count","goal_id":"916ddbd1703046efbdb830098632bbc0","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decisioncount","branches":[{"type":"Branch","label":"Less than 3","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n\t    // If the value of search_count is less than 3, return true\n\t    // otherwise, return false\n\t    if (vaVars.search_count &lt; 3)\n\t        return true;\n\t    else\n\t        return false;\n})()\n"},"id":"e946c868d7a247ddaebd78c46583c3a8","name":"Less than 3"},{"type":"Branch","label":"3 or more","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n\t    // If the value of search_count is less than 3, return true\n\t    // otherwise, return false\n\t    if (vaVars.search_count &lt; 3)\n\t        return false;\n\t    else\n\t        return true;\n})()\n"},"id":"6cf36ee33ae9474eb88eb9c02b0e5b1d","name":"3 or more"}],"id":"776033665104403582b3f99838b9b475","goal_id":"916ddbd1703046efbdb830098632bbc0"}],"edges":[{"type":"Edge","source_node_id":"a4baf2ddbacc42f78b8c18edb581a0eb","target_node_id":"e52d73a2bf3e454f906e97a2b411f8e2","id":"27c00976b00b4dc39080bcbdf6246fa3"},{"type":"Edge","source_node_id":"e52d73a2bf3e454f906e97a2b411f8e2","target_node_id":"2f494ca96a384a91b60c0ed589da8a2b","id":"afbb8c7cad5b4c718832573d5d9a7948"},{"type":"Edge","source_node_id":"2f494ca96a384a91b60c0ed589da8a2b","target_node_id":"a889587b45574efc8cf7fedeea46b23a","id":"980421249fdd4dc18fcf330c07d8447e"},{"type":"Edge","source_node_id":"a889587b45574efc8cf7fedeea46b23a","target_node_id":"4bc32cf4b32d43f7942ae2b00cd1232e","id":"137cbf8d1f084340aedcc9667f5ba139"},{"type":"Edge","source_node_id":"88646f9033cd4343acc6fa388d529259","target_node_id":"a4affaf39f7f4a4dacedbcb7dd903eb0","id":"23dd54a0cdbb4ec1953b9bb1c126fade"},{"type":"Edge","source_node_id":"a4affaf39f7f4a4dacedbcb7dd903eb0","target_node_id":"7fe8839891fd4ebdbe266b07866b0e85","branch_id":"341d4502a02f45adac3ba829a28a0eb0","id":"c0a63564fe1c4ebb8138b784e1804034","name":"341d4502a02f45adac3ba829a28a0eb0"},{"type":"Edge","source_node_id":"daf4b185089342c2a6f6391fe2fceb9e","target_node_id":"eb1958e0adb14755a9274ad5fb92a69f","id":"aab5798c31b6485f827471a7ba660732"},{"type":"Edge","source_node_id":"eb1958e0adb14755a9274ad5fb92a69f","target_node_id":"9e8959eabf8f4a2895b8a28211327fb2","id":"a181541150c14be2b7bcc4f721779872"},{"type":"Edge","source_node_id":"9e8959eabf8f4a2895b8a28211327fb2","target_node_id":"88646f9033cd4343acc6fa388d529259","id":"13fbfcd4a8bc44b380e65bb598de0415"},{"type":"Edge","source_node_id":"4bc32cf4b32d43f7942ae2b00cd1232e","target_node_id":"ff6012e1bc69477ea8a69469f1de1409","id":"2bdcd43fdf694ad7a864edc5f24f2762"},{"type":"Edge","source_node_id":"ff6012e1bc69477ea8a69469f1de1409","target_node_id":"f3ebcd0f10f246c2822f40e0c2858737","id":"93f34b0eb5974027b0dabd7c25f5a6ab"},{"type":"Edge","source_node_id":"f3ebcd0f10f246c2822f40e0c2858737","target_node_id":"daf4b185089342c2a6f6391fe2fceb9e","branch_id":"41cc9a92cf0b47a79461a19787c4501a","id":"9488688cb44b4ee38696ec6bb1dd6399","name":"41cc9a92cf0b47a79461a19787c4501a"},{"type":"Edge","source_node_id":"f3ebcd0f10f246c2822f40e0c2858737","target_node_id":"c25656325bb1403a9dac286098ce840b","branch_id":"eb674c0900a34827b4a576f724eb24e1","id":"602ccdcf2b0742dab41c782c1b5953c8","name":"eb674c0900a34827b4a576f724eb24e1"},{"type":"Edge","source_node_id":"c25656325bb1403a9dac286098ce840b","target_node_id":"45362033dc35403f9486624a74600fc0","id":"d3e9aa82656444cd9526da2f56254da0"},{"type":"Edge","source_node_id":"45362033dc35403f9486624a74600fc0","target_node_id":"9e8959eabf8f4a2895b8a28211327fb2","id":"ff0d68a7dbc8482eaf374498a73fdad1"},{"type":"Edge","source_node_id":"f3ebcd0f10f246c2822f40e0c2858737","target_node_id":"88646f9033cd4343acc6fa388d529259","branch_id":"9b2e5944d24d4d09b175f1a68a67a09e","id":"1cff45372e95453bb6791702032000c3","name":"9b2e5944d24d4d09b175f1a68a67a09e"},{"type":"Edge","source_node_id":"a4affaf39f7f4a4dacedbcb7dd903eb0","target_node_id":"63700b78ac6847fa8db181603abca5d1","branch_id":"e4ad7f2522954dc5b4410da79e51d83a","id":"3be650754b354875bf9e0ce7c794f033","name":"e4ad7f2522954dc5b4410da79e51d83a"},{"type":"Edge","source_node_id":"63700b78ac6847fa8db181603abca5d1","target_node_id":"776033665104403582b3f99838b9b475","id":"665db9f90b774bfd859ddb6b9e9055e9"},{"type":"Edge","source_node_id":"776033665104403582b3f99838b9b475","target_node_id":"e52d73a2bf3e454f906e97a2b411f8e2","branch_id":"e946c868d7a247ddaebd78c46583c3a8","id":"d4e171a4f6334ba58ab71a820ef1a955","name":"e946c868d7a247ddaebd78c46583c3a8"},{"type":"Edge","source_node_id":"776033665104403582b3f99838b9b475","target_node_id":"7fe8839891fd4ebdbe266b07866b0e85","branch_id":"6cf36ee33ae9474eb88eb9c02b0e5b1d","id":"380b667ac3e24dac891bc3dd889595ee","name":"6cf36ee33ae9474eb88eb9c02b0e5b1d"}],"id":"916ddbd1703046efbdb830098632bbc0"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"32d284c6e0c54742a375c628cc503ee4"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"f45a3f5545f640bfac5a9e6613b7db7a","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"ea5a12303774421fa771ba1afbda8329","name":"needit_list"},{"type":"True/False","id":"f4811428776e419d9c9b917ee43f2efd","name":"search_again"},{"type":"Date/Time","mode":"date","id":"7a76613cb1714b6c88e9da82aecd6a97","name":"_new_when_needed_date"},{"type":"Reference","table":"","id":"6a3587e74b244de6a8b62f3a90cae11f","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short description","element":"sh"},{"name":"When needed","element":"wn"},{"name":"Nothing","element":"n"}],"id":"f68a301c93c14ccc8e90b24ba30d8fbd","name":"what_to_update"},{"type":"String","name":"new_short_description1","id":"f32f0695f4904e97a88d376d16884408"},{"type":"Reference","table":"x_58872_needit_needit","id":"43b8a1268bfb4f38b8a3702200847809","name":"new_short_description"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"a2bb82092f521010087b57892799b681","id":"2612e6852f921010087b57892799b690","name":"_PRVW__df4fdb9d965e1010ccfbe88a1489c4e9","key_phrases":["Update NeedIt Records","NeedIt Request"],"nlu_provider":"","nlu_model":"","nlu_intent":"","flexible_conversation_switching":false,"design_category":"0c0c42492f521010087b57892799b67b"}</design_definition>
        <design_topic_id>2612e6852f921010087b57892799b690</design_topic_id>
        <name>_PRVW__df4fdb9d965e1010ccfbe88a1489c4e9</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-07-28 16:58:55</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>ab4f5f912f9e1010087b57892799b607</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_509632_needit_vi">a2bb82092f521010087b57892799b681</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">a2bb82092f521010087b57892799b681</sys_scope>
        <sys_update_name>sys_cb_design_topic_ab4f5f912f9e1010087b57892799b607</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-07-28 16:58:55</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
